<!-- The purpose of this file is to create the basic structure and layout of the frontend page. -->
<!DOCTYPE html>
<html>
<head>
    <title>Web Application Firewall Bypass</title>
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="js/script.js"></script>
</head>
<body>
    <div class="container">
        <h1>Web Application Firewall Bypass</h1>
        <form id="injectForm">
            <label for="urlInput">URL:</label>
            <input type="text" id="urlInput" name="urlInput" required>
            <label for="payloadInput">Payload:</label>
            <input type="text" id="payloadInput" name="payloadInput" required>
            <button type="submit" id="injectButton">Inject</button>
            <button type="button" id="cancelButton">Cancel</button>
        </form>
        <div id="resultArea"></div>
        <div id="statusArea"></div>
        <div id="errorArea"></div>
    </div>

    <script>
        $(document).ready(function() {
            // Function to handle form submission
            $("#injectForm").submit(function(event) {
                event.preventDefault(); // Prevent form from submitting

                // Get the URL and payload inputs
                var url = $("#urlInput").val();
                var payload = $("#payloadInput").val();

                // Validate the inputs
                if (url.trim() === "" || payload.trim() === "") {
                    $("#errorArea").text("Please enter a valid URL and payload.");
                    return;
                }

                // Clear previous results and errors
                $("#resultArea").empty();
                $("#statusArea").empty();
                $("#errorArea").empty();

                // Perform the injection
                $.ajax({
                    url: url,
                    type: "POST",
                    data: { payload: payload },
                    success: function(response) {
                        $("#resultArea").text(response);
                        $("#statusArea").text("Injection successful.");
                    },
                    error: function(xhr, status, error) {
                        $("#errorArea").text("Error: " + error);
                    }
                });
            });

            // Function to handle cancel button click
            $("#cancelButton").click(function() {
                // Clear the form inputs
                $("#urlInput").val("");
                $("#payloadInput").val("");

                // Clear previous results and errors
                $("#resultArea").empty();
                $("#statusArea").empty();
                $("#errorArea").empty();
            });
        });
    </script>
</body>
</html>
